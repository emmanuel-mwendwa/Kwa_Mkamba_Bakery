{% extends "base.html" %}

{% block title %} {{ title }} {% endblock %}

{% block styles %} {{ super() }} {% endblock %}

{% block header %} {{ super() }} {% endblock %}

{% block content %}
{{ super() }} 

<h1>Create Recipe</h1>

<form method="POST">
    {{ dispatch_form.hidden_tag() }}
    
    <div class="form-group">
      {{ dispatch_form.route_id.label(class="form-label") }}
      {{ dispatch_form.route_id(class="form-control") }}
      {% if dispatch_form.route_id.errors %}
        <ul class="errors">
          {% for error in dispatch_form.route_id.errors %}
            <li>{{ error }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    </div>
    
    <hr>
    
    <h2>Dispatch Details</h2>
    
    <div id="dispatch-details">
      {% for dispatch_details_form in dispatch_form.dispatch_details %}
      <br>
        <div class="dispatch-detail">
          <div class="form-group">
            {{ dispatch_details_form.product_id.label(class="form-label") }}
            {{ dispatch_details_form.product_id(class="form-control") }}
            {% if dispatch_details_form.product_id.errors %}
              <ul class="errors">
                {% for error in dispatch_details_form.product_id.errors %}
                  <li>{{ error }}</li>
                {% endfor %}
              </ul>
            {% endif %}
          </div>
          
          <div class="form-group">
            {{ dispatch_details_form.quantity.label(class="form-label") }}
            {{ dispatch_details_form.quantity(class="form-control") }}
            {% if dispatch_details_form.quantity.errors %}
              <ul class="errors">
                {% for error in dispatch_details_form.quantity.errors %}
                  <li>{{ error }}</li>
                {% endfor %}
              </ul>
            {% endif %}
          </div>
          
          <div class="form-group">
            {{ dispatch_details_form.returns.label(class="form-label") }}
            {{ dispatch_details_form.returns(class="form-control") }}
            {% if dispatch_details_form.returns.errors %}
              <ul class="errors">
                {% for error in dispatch_details_form.returns.errors %}
                  <li>{{ error }}</li>
                {% endfor %}
              </ul>
            {% endif %}
          </div>
        </div>
        <br>
      {% endfor %}
    </div>
    
    <div>
      <input type="submit" name="add_dispatch" value="Add Dispatch">
      <input type="submit" name="submit_dispatch" value="Submit Dispatch">
    </div>
  </form>


{% endblock %}

{% block footer %} {{ super() }} {% endblock %}

{% block scripts %} {{ super() }} {% endblock %}